@model ALFINapp.API.Models.ViewReportesGeneral
@{
    var asesores = Model.Asesores as List<ALFINapp.API.Models.ViewUsuario>;
    var supervisores = Model.Supervisores as List<ALFINapp.API.Models.ViewUsuario>;
}

@section Styles {
    <link rel="stylesheet" href="~/css/main_page.css">
}

<div class="container mt-4">
    <h3> Reportes Totales </h3>
    <div class="mt-4">
        <div class="row mt-3">
            <div class="container col" id="lista-reportes-usuario-asesor">
                <select class="form-control mt-3" name="lista-usuario-asesor" id="lista-usuario-asesor"
                    onchange="cargarReporteAsesor(this.value)">
                    <option value=""> Seleccione un Asesor de Creditos </option>
                    @if (asesores != null)
                    {
                        @foreach (var usuario in asesores)
                        {
                            <option value="@usuario.IdUsuario"> @usuario.NombresCompletos </option>
                        }
                    }
                </select>
            </div>
            <div class="container col" id="lista-reportes-usuario-supervisor">
                <select class="form-control mt-3" name="lista-usuario-supervisor" id="lista-usuario-supervisor"
                    onchange="cargarReporteSupervisor(this.value)">
                    <option value=""> Seleccione un Supervisor </option>
                    @if (supervisores != null)
                    {
                        @foreach (var usuario in supervisores)
                        {
                            <option value="@usuario.IdUsuario"> @usuario.NombresCompletos </option>
                        }
                    }
                </select>
            </div>
        </div>

        <div class="flex-container mt-4">
            @*Row --- 01*@
            <div class="row">
                <div class="col">
                    <div class="align-items-center">
                        <h5>Progreso General</h5>
                    </div>
                    <div id="chart-progreso-general">
                        @*Aca se cargara las graficas del Asesor*@
                    </div>
                </div>
            </div>
            @*Row --- 02*@
            <div class="row">
                <div class="col" id="div-derivaciones" style="display: none;">
                    <h5>Derivaciones por Fecha</h5>
                    <div id="chart-derivaciones">
                        @*Aca se cargara las graficas del Asesor*@
                    </div>
                </div>
            </div>
            @*Row --- 03*@
            <div class="row">
                <div class="col" id="div-derivaciones-supervisor" style="display: none;">
                    
                </div>
                <div class="col" id="div-derivaciones-asesor" style="display: none;">

                </div>
            </div>
        </div>

    </div>
</div>

<div id="reportes-data" data-json='@Html.Raw(Json.Serialize(Model))'></div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="~/js/Reportes/Reportes.js?v=@DateTime.Now.Ticks"></script>
    <script src="~/js/Reportes/ReportesBusqueda.js?v=@DateTime.Now.Ticks"></script>
    <script src="~/js/Reportes/Asesor.js?v=@DateTime.Now.Ticks"></script>
    <script src="~/js/Reportes/Supervisor.js?v=@DateTime.Now.Ticks"></script>
}